{"version":3,"sources":["settings/constants.js","components/ui/button.js","components/tableEvents/tableEvents.js","components/ui/input.js","components/ui/select.js","components/form/form.js","components/editEvent/editEvent.js","components/addEvent/addEvent.js","components/ui/loader.js","App.js","index.js"],"names":["SERVER_URL","StyledButton","styled","button","FormButton","TableButton","props","disabled","DivEvents","div","DivButton","Div","StyledTable","table","Th","th","Tr","tr","selected","Td","td","TableEvents","TrTable","events","map","event","logs","log","i","onClick","onSelect","id","username","firstname","lastname","name","dateFormat","event_time","selectEvent","deleteEvent","onChangeEvent","StyledInput","input","StyledInputId","error","StyledSelect","select","DivForm","DivColumn","ErrorMessage","Form","heading","onSubmit","e","saveEvent","value","placeholder","onChange","event_name","textButton","ModalWindow","EditEvent","target","setChangeEvent","changeEvent","updateEvent","AddEvent","useState","setEvent","validation","FormValid","a","preventDefault","setSubmit","fetch","method","body","JSON","stringify","headers","then","response","ok","newEvent","Loader","h2","Container","App","setSelectEvent","loading","setLoading","submit","setEvents","doFetch","useCallback","require","json","useEffect","console","editEvent","length","eventId","allEvents","find","data","Date","toLocaleString","dateStyle","timeStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf786f45.chunk.js","sourcesContent":["export const SERVER_URL = \"http://localhost:8080\"","import styled from 'styled-components'\r\n\r\nexport const StyledButton = styled.button`\r\n    padding:15px 30px;\r\n    color: white;\r\n    background: #f53f8a;\r\n    border-radius: 10px;\r\n    outline: none;\r\n    border: none;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background:#03a9f4;\r\n    }\r\n`\r\n\r\nexport const FormButton = styled(StyledButton)`\r\n    display: block;\r\n    margin: 0 auto;\r\n    padding:15px 50px;\r\n    border-radius: 15px;\r\n`\r\nexport const TableButton = styled(StyledButton)`\r\n    margin: 0 10px;\r\n    background: ${props => props.disabled ? '#80808085' : '#f53f8a'};\r\n    color: ${props => props.disabled ? 'grey' : 'white'};\r\n    &:hover {\r\n        background:${props => props.disabled ? '#80808085' : '#03a9f4'};\r\n    }\r\n    \r\n`","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { TableButton } from '../ui/button';\r\n\r\nconst DivEvents = styled.div`\r\n    padding:20px;\r\n    margin-top:20px;\r\n    border-radius:10px;\r\n    background: #8080801f;\r\n`\r\n\r\nconst DivButton = styled.div`\r\n    text-align: right;\r\n    margin: 10px 0;\r\n`\r\nconst Div = styled.div`\r\n    display:flex;\r\n    justify-content: center;\r\n    margin-bottom:20px;\r\n    font-size:18px;\r\n`\r\n\r\nconst StyledTable = styled.table`\r\n    border-collapse: collapse;\r\n    width:100%;\r\n    border:2px solid #380088;\r\n    border-radius: 20px;\r\n`\r\nconst Th = styled.th`\r\n    border: 1px solid #380088;\r\n    background: #694db4;\r\n    color: #fff;\r\n    padding:5px 10px;\r\n`\r\nconst Tr = styled.tr`\r\n    border: 1px solid #380088;\r\n    background: ${props => props.selected ? '#1ec1ea' : '#80808045'};\r\n`\r\nconst Td = styled.td`\r\n    border: 1px solid #380088;\r\n    padding:5px 10px;\r\n    cursor: pointer;\r\n`\r\n\r\nconst TableEvents = ({ ...props }) => {\r\n    const TrTable = props.events.map((event) => {\r\n        return event.logs.map((log, i) => {\r\n            return (\r\n                <Tr\r\n                    key={log.id}\r\n                    selected={log.selected}\r\n                    onClick={() => props.onSelect(log.id)}\r\n                >\r\n                    <Td>\r\n                        {event.username}\r\n                    </Td>\r\n                    <Td>\r\n                        {event.firstname}\r\n                    </Td>\r\n                    <Td>\r\n                        {event.lastname}\r\n                    </Td>\r\n                    <Td>\r\n                        {event.id}\r\n                    </Td>\r\n                    <Td>\r\n                        {log.event.name}\r\n                    </Td>\r\n                    <Td>\r\n                        {props.dateFormat(log.event_time)}\r\n                    </Td>\r\n                </Tr>\r\n            )\r\n        })\r\n    })\r\n\r\n    return (\r\n        <DivEvents>\r\n            <Div>Таблица событий</Div>\r\n            <DivButton>\r\n                <TableButton\r\n                    disabled={!props.selectEvent}\r\n                    onClick={() => props.deleteEvent()}\r\n                >\r\n                    Удалить\r\n                </TableButton>\r\n                <TableButton\r\n                    disabled={!props.selectEvent}\r\n                    onClick={() => props.onChangeEvent()}\r\n                >\r\n                    Редактировать\r\n                </TableButton>\r\n            </DivButton>\r\n            <StyledTable>\r\n                <thead>\r\n                <Tr>\r\n                    <Th>Username</Th>\r\n                    <Th>Firstname</Th>\r\n                    <Th>Lastname</Th>\r\n                    <Th>User Id</Th>\r\n                    <Th>Event log</Th>\r\n                    <Th>Event time</Th>\r\n                </Tr>\r\n                </thead>\r\n                <tbody>\r\n                {TrTable}\r\n                </tbody>\r\n            </StyledTable>\r\n        </DivEvents>\r\n    )\r\n}\r\nexport default TableEvents","import styled from 'styled-components'\r\n\r\nexport const StyledInput = styled.input`\r\n    border-radius: 5px;\r\n    border: 2px solid #694db4;\r\n    padding:10px;\r\n    margin:10px;\r\n    outline: none;\r\n    &:focus {\r\n        border: 2px solid #1ec1ea;\r\n    }\r\n`\r\n\r\nexport const StyledInputId = styled(StyledInput)`\r\n    border-color: ${props => props.error ? 'red' : '#694db4'}\r\n`","import styled from 'styled-components'\r\n\r\nexport const StyledSelect = styled.select`\r\n    border-radius: 5px;\r\n    border: 2px solid #694db4;\r\n    padding:10px;\r\n    margin: 10px;\r\n    outline: none;\r\n    &:focus {\r\n        border: 2px solid #1ec1ea;\r\n    }\r\n`","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { StyledInput, StyledInputId } from '../ui/input';\r\nimport { StyledSelect } from '../ui/select';\r\nimport { FormButton } from '../ui/button';\r\n\r\nconst DivForm = styled.div`\r\n    padding:20px;\r\n    margin-top:20px;\r\n    border-radius:10px;\r\n    background: #8080801f;\r\n`\r\nconst Div = styled.div`\r\n    display:flex;\r\n    justify-content: center;\r\n    font-size:18px;\r\n`\r\n\r\nconst DivColumn = styled.div`\r\n    display:flex;\r\n    flex: 0 0 30%;\r\n    flex-direction: column;\r\n`\r\n\r\nconst ErrorMessage = styled.div`\r\n    color: red;\r\n    text-align: center;\r\n    font-weight: bold;  \r\n`\r\n\r\nconst Form = (props) => {\r\n\r\n    return (\r\n        <DivForm>\r\n            <Div>{props.heading}</Div>\r\n            <ErrorMessage error={props.error}>{props.error}</ErrorMessage>\r\n            <form onSubmit={(e) => props.saveEvent(e)}>\r\n                <Div>\r\n                    <DivColumn>\r\n                        <StyledInput\r\n                            value={props.event.username}\r\n                            name='username'\r\n                            placeholder='username'\r\n                            onChange={(e) => props.onChange(e)}\r\n                        />\r\n                        <StyledInput\r\n                            value={props.event.firstname}\r\n                            name='firstname'\r\n                            placeholder='first name'\r\n                            onChange={(e) => props.onChange(e)}\r\n                        />\r\n                        <StyledInput\r\n                            value={props.event.lastname}\r\n                            name='lastname'\r\n                            placeholder='last name'\r\n                            onChange={(e) => props.onChange(e)}\r\n                        />\r\n                    </DivColumn>\r\n                    <DivColumn>\r\n                        <StyledInputId\r\n                            value={props.event.id}\r\n                            error={props.error}\r\n                            name='id'\r\n                            placeholder='user id'\r\n                            onChange={(e) => props.onChange(e)}\r\n                            disabled={props.disabled}\r\n                        />\r\n                        <StyledSelect\r\n                            value={props.event.event_name}\r\n                            name='event_name'\r\n                            id=\"event_name\"\r\n                            onChange={(e) => props.onChange(e)}\r\n                        >\r\n                            <option value=\"site\">Site</option>\r\n                            <option value=\"app\">App</option>\r\n                            <option value=\"other\">Other</option>\r\n                        </StyledSelect>\r\n                        <StyledInput\r\n                            value={props.event.event_time}\r\n                            name='event_time'\r\n                            placeholder='event time 2021/02/17 10:55'\r\n                            onChange={(e) => props.onChange(e)}\r\n                        />\r\n                    </DivColumn>\r\n                </Div>\r\n                <FormButton>\r\n                    {props.textButton}\r\n                </FormButton>\r\n            </form>\r\n        </DivForm>\r\n    )\r\n}\r\nexport default Form","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Form from '../form/form';\r\n\r\nconst ModalWindow = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0,0,0,0.7);\r\n     > div {\r\n        background:#fff;\r\n       margin: 50px auto;\r\n       max-width: 80%;\r\n       max-height: 100%;\r\n       box-shadow: 3px 5px 7px rgba(0,0,0,0.5);\r\n    }\r\n`\r\n\r\nconst EditEvent = (props) => {\r\n    const closeModal = (event) => {\r\n        if (event.target.id == 'close') {\r\n            props.setChangeEvent(null)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ModalWindow id='close' onClick={closeModal}>\r\n            <Form\r\n                event={props.changeEvent}\r\n                onChange={props.onChange}\r\n                saveEvent={props.updateEvent}\r\n                textButton='Изменить'\r\n                heading='Изменить событие'\r\n                disabled={true}\r\n                selectEvent={props.selectEvent}\r\n            />\r\n        </ModalWindow>\r\n    )\r\n}\r\nexport default EditEvent","import React, { useState } from 'react'\r\nimport { SERVER_URL } from '../../settings/constants';\r\nimport Form from '../form/form';\r\n\r\nconst AddEvent = (props) => {\r\n    const [event, setEvent] = useState({\r\n        username: '',\r\n        firstname: '',\r\n        lastname: '',\r\n        id: '',\r\n        event_name: 'site',\r\n        event_time: '',\r\n        error: ''\r\n    })\r\n\r\n    const onChange = (e) => {\r\n        const newEvent = { ...event, error: '' }\r\n        newEvent[e.target.name] = e.target.value\r\n        setEvent(newEvent)\r\n    }\r\n\r\n    const validation = (id) => {\r\n        const FormValid = id > 0 && id < 10 ? true : false\r\n        if (!FormValid) {\r\n            const error = 'Введите id от 1 до 10'\r\n            setEvent({ ...event, error })\r\n        }\r\n        return FormValid\r\n    }\r\n\r\n    const saveEvent = async (e) => {\r\n        e.preventDefault()\r\n        if (!validation(event.id)) {\r\n            return\r\n        }\r\n        props.setSubmit(true)\r\n        fetch(`${SERVER_URL}/events/add`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(event),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                props.setSubmit(false)\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <Form\r\n            event={event}\r\n            onChange={onChange}\r\n            saveEvent={saveEvent}\r\n            textButton='Добавить'\r\n            heading='Добавить новое событие'\r\n            error={event.error}\r\n        />\r\n    )\r\n}\r\nexport default AddEvent","import styled from \"styled-components\"\r\n\r\nexport const Loader = styled.h2`\r\n    text-align:center;\r\n`","import { useCallback, useEffect, useState } from 'react';\nimport { SERVER_URL } from './settings/constants';\nimport styled from 'styled-components'\nimport TableEvents from './components/tableEvents/tableEvents';\nimport EditEvent from './components/editEvent/editEvent';\nimport AddEvent from './components/addEvent/addEvent';\nimport { Loader } from './components/ui/loader';\n\nconst Container = styled.div`\n    max-width:1200px;\n    margin: 0 auto;\n`\n\nfunction App() {\n    const [selectEvent, setSelectEvent] = useState(false)\n    const [changeEvent, setChangeEvent] = useState(null)\n    const [loading, setLoading] = useState(false)\n    const [submit, setSubmit] = useState(false)\n    const [events, setEvents] = useState([])\n\n    const doFetch = useCallback(() => {\n        setLoading(true)\n        fetch(`${SERVER_URL}/events`)\n            .then(require => require.json())\n            .then(events => {\n                setEvents(events)\n                setLoading(false)\n            })\n    }, [])\n\n    useEffect(() => {\n        doFetch()\n    }, [doFetch, submit])\n\n    const updateEvent = async (e) => {\n        e.preventDefault()\n        setSubmit(true)\n        fetch(`${SERVER_URL}/events/update`, {\n            method: 'POST',\n            body: JSON.stringify(changeEvent),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        }).then(response => {\n            console.log(response)\n            if (response.ok) {\n                setChangeEvent(null)\n                setSubmit(false)\n            }\n        })\n    }\n\n    const deleteEvent = async () => {\n        setSubmit(true)\n        fetch(`${SERVER_URL}/events/delete`, {\n            method: 'POST',\n            body: JSON.stringify({ selectEvent }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        }).then(response => {\n            if (response.ok) {\n                setChangeEvent(null)\n                setSubmit(false)\n            }\n        })\n    }\n\n    const onChangeEvent = () => {\n        const editEvent = events.find(event => {\n            return event.logs.find(log => log.id == selectEvent)\n        })\n        const event_name = editEvent.logs[0].event.name\n        const event_time = editEvent.logs[0].event_time\n        setChangeEvent({ ...editEvent, event_name, event_time })\n    }\n\n    const onChange = (e) => {\n        const editEvent = { ...changeEvent }\n        editEvent[e.target.name] = e.target.value\n        setChangeEvent(editEvent)\n    }\n\n    const onSelect = (eventId) => {\n        const allEvents = [...events]\n        allEvents.map((event) => {\n            return event.logs.map((log) => {\n                return log.id == eventId ? log.selected = true : log.selected = false\n            })\n        })\n        setEvents(allEvents)\n        setSelectEvent(eventId)\n    }\n\n    const dateFormat = (data) => {\n        const event_time = new Date(data)\n        const time = event_time.toLocaleString([], { dateStyle: 'short', timeStyle: 'short' })\n        return time\n    }\n\n    if (loading) {\n        return <Loader>...loading</Loader>\n    }\n\n    return (\n        <Container>\n            <AddEvent\n                submit={submit}\n                setSubmit={setSubmit}\n                onChange={onChange}\n            />\n            {events.length > 0 ?\n                <TableEvents\n                    selectEvent={selectEvent}\n                    events={events}\n                    onSelect={onSelect}\n                    onChangeEvent={onChangeEvent}\n                    deleteEvent={deleteEvent}\n                    submit={submit}\n                    setSubmit={setSubmit}\n                    dateFormat={dateFormat}\n                /> :\n                null\n            }\n            {changeEvent ?\n                <EditEvent\n                    changeEvent={changeEvent}\n                    setChangeEvent={setChangeEvent}\n                    onChange={onChange}\n                    updateEvent={updateEvent}\n                    selectEvent={selectEvent}\n                /> :\n                null\n            }\n        </Container>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}