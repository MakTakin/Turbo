(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,n,t){},28:function(e,n,t){"use strict";t.r(n);var r,a,c,i,o,s,d,u,l,b,j,p,h,x,f,O,v,g,m,C,k=t(1),E=t.n(k),S=t(14),y=t.n(S),w=(t(23),t(18)),_=t(4),T=t(5),J=t.n(T),A=t(8),B=t(6),D=t(2),F="http://localhost:8080",N=t(3),P=N.a.button(r||(r=Object(D.a)(["\n    padding:15px 30px;\n    color: white;\n    background: #f53f8a;\n    border-radius: 10px;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    &:hover {\n        background:#03a9f4;\n    }\n"]))),z=Object(N.a)(P)(a||(a=Object(D.a)(["\n    display: block;\n    margin: 0 auto;\n    padding:15px 50px;\n    border-radius: 15px;\n"]))),I=Object(N.a)(P)(c||(c=Object(D.a)(["\n    margin: 0 10px;\n    background: ",";\n    color: ",";\n    &:hover {\n        background:",";\n    }\n    \n"])),(function(e){return e.disabled?"#80808085":"#f53f8a"}),(function(e){return e.disabled?"grey":"white"}),(function(e){return e.disabled?"#80808085":"#03a9f4"})),L=t(0),U=N.a.div(i||(i=Object(D.a)(["\n    padding:20px;\n    margin-top:20px;\n    border-radius:10px;\n    background: #8080801f;\n"]))),M=N.a.div(o||(o=Object(D.a)(["\n    text-align: right;\n    margin: 10px 0;\n"]))),q=N.a.div(s||(s=Object(D.a)(["\n    display:flex;\n    justify-content: center;\n    margin-bottom:20px;\n    font-size:18px;\n"]))),G=N.a.table(d||(d=Object(D.a)(["\n    border-collapse: collapse;\n    width:100%;\n    border:2px solid #380088;\n    border-radius: 20px;\n"]))),H=N.a.th(u||(u=Object(D.a)(["\n    border: 1px solid #380088;\n    background: #694db4;\n    color: #fff;\n    padding:5px 10px;\n"]))),K=N.a.tr(l||(l=Object(D.a)(["\n    border: 1px solid #380088;\n    background: ",";\n"])),(function(e){return e.selected?"#1ec1ea":"#80808045"})),Q=N.a.td(b||(b=Object(D.a)(["\n    border: 1px solid #380088;\n    padding:5px 10px;\n    cursor: pointer;\n"]))),R=function(e){var n=Object.assign({},e),t=n.events.map((function(e){return e.logs.map((function(t,r){return Object(L.jsxs)(K,{selected:t.selected,onClick:function(){return n.onSelect(t.id)},children:[Object(L.jsx)(Q,{children:e.username}),Object(L.jsx)(Q,{children:e.firstname}),Object(L.jsx)(Q,{children:e.lastname}),Object(L.jsx)(Q,{children:e.id}),Object(L.jsx)(Q,{children:t.event.name}),Object(L.jsx)(Q,{children:n.dateFormat(t.event_time)})]},t.id)}))}));return Object(L.jsxs)(U,{children:[Object(L.jsx)(q,{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"}),Object(L.jsxs)(M,{children:[Object(L.jsx)(I,{disabled:!n.selectEvent,onClick:function(){return n.deleteEvent()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(L.jsx)(I,{disabled:!n.selectEvent,onClick:function(){return n.onChangeEvent()},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(L.jsxs)(G,{children:[Object(L.jsx)("thead",{children:Object(L.jsxs)(K,{children:[Object(L.jsx)(H,{children:"Username"}),Object(L.jsx)(H,{children:"Firstname"}),Object(L.jsx)(H,{children:"Lastname"}),Object(L.jsx)(H,{children:"User Id"}),Object(L.jsx)(H,{children:"Event log"}),Object(L.jsx)(H,{children:"Event time"})]})}),Object(L.jsx)("tbody",{children:t})]})]})},V=N.a.input(j||(j=Object(D.a)(["\n    border-radius: 5px;\n    border: 2px solid #694db4;\n    padding:10px;\n    margin:10px;\n    outline: none;\n    &:focus {\n        border: 2px solid #1ec1ea;\n    }\n"]))),W=Object(N.a)(V)(p||(p=Object(D.a)(["\n    border-color: ","\n"])),(function(e){return e.error?"red":"#694db4"})),X=N.a.select(h||(h=Object(D.a)(["\n    border-radius: 5px;\n    border: 2px solid #694db4;\n    padding:10px;\n    margin: 10px;\n    outline: none;\n    &:focus {\n        border: 2px solid #1ec1ea;\n    }\n"]))),Y=N.a.div(x||(x=Object(D.a)(["\n    padding:20px;\n    margin-top:20px;\n    border-radius:10px;\n    background: #8080801f;\n"]))),Z=N.a.div(f||(f=Object(D.a)(["\n    display:flex;\n    justify-content: center;\n    font-size:18px;\n"]))),$=N.a.div(O||(O=Object(D.a)(["\n    display:flex;\n    flex: 0 0 30%;\n    flex-direction: column;\n"]))),ee=N.a.div(v||(v=Object(D.a)(["\n    color: red;\n    text-align: center;\n    font-weight: bold;  \n"]))),ne=function(e){return Object(L.jsxs)(Y,{children:[Object(L.jsx)(Z,{children:e.heading}),Object(L.jsx)(ee,{error:e.error,children:e.error}),Object(L.jsxs)("form",{onSubmit:function(n){return e.saveEvent(n)},children:[Object(L.jsxs)(Z,{children:[Object(L.jsxs)($,{children:[Object(L.jsx)(V,{value:e.event.username,name:"username",placeholder:"username",onChange:function(n){return e.onChange(n)}}),Object(L.jsx)(V,{value:e.event.firstname,name:"firstname",placeholder:"first name",onChange:function(n){return e.onChange(n)}}),Object(L.jsx)(V,{value:e.event.lastname,name:"lastname",placeholder:"last name",onChange:function(n){return e.onChange(n)}})]}),Object(L.jsxs)($,{children:[Object(L.jsx)(W,{value:e.event.id,error:e.error,name:"id",placeholder:"user id",onChange:function(n){return e.onChange(n)},disabled:e.disabled}),Object(L.jsxs)(X,{value:e.event.event_name,name:"event_name",id:"event_name",onChange:function(n){return e.onChange(n)},children:[Object(L.jsx)("option",{value:"site",children:"Site"}),Object(L.jsx)("option",{value:"app",children:"App"}),Object(L.jsx)("option",{value:"other",children:"Other"})]}),Object(L.jsx)(V,{value:e.event.event_time,name:"event_time",placeholder:"event time 2021/02/17 10:55",onChange:function(n){return e.onChange(n)}})]})]}),Object(L.jsx)(z,{children:e.textButton})]})]})},te=N.a.div(g||(g=Object(D.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,0.7);\n     > div {\n        background:#fff;\n       margin: 50px auto;\n       max-width: 80%;\n       max-height: 100%;\n       box-shadow: 3px 5px 7px rgba(0,0,0,0.5);\n    }\n"]))),re=function(e){return Object(L.jsx)(te,{id:"close",onClick:function(n){"close"==n.target.id&&e.setChangeEvent(null)},children:Object(L.jsx)(ne,{event:e.changeEvent,onChange:e.onChange,saveEvent:e.updateEvent,textButton:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",heading:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435",disabled:!0,selectEvent:e.selectEvent})})},ae=function(e){var n=Object(k.useState)({username:"",firstname:"",lastname:"",id:"",event_name:"site",event_time:"",error:""}),t=Object(B.a)(n,2),r=t[0],a=t[1],c=function(e){var n=e>0&&e<10;if(!n){a(Object(_.a)(Object(_.a)({},r),{},{error:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 id \u043e\u0442 1 \u0434\u043e 10"}))}return n},i=function(){var n=Object(A.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),c(r.id)){n.next=3;break}return n.abrupt("return");case 3:e.setSubmit(!0),fetch("".concat(F,"/events/add"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(n){n.ok&&e.setSubmit(!1)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(L.jsx)(ne,{event:r,onChange:function(e){var n=Object(_.a)(Object(_.a)({},r),{},{error:""});n[e.target.name]=e.target.value,a(n)},saveEvent:i,textButton:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",heading:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435",error:r.error})},ce=N.a.h2(m||(m=Object(D.a)(["\n    text-align:center;\n"]))),ie=N.a.div(C||(C=Object(D.a)(["\n    max-width:1200px;\n    margin: 0 auto;\n"])));var oe=function(){var e=Object(k.useState)(!1),n=Object(B.a)(e,2),t=n[0],r=n[1],a=Object(k.useState)(null),c=Object(B.a)(a,2),i=c[0],o=c[1],s=Object(k.useState)(!1),d=Object(B.a)(s,2),u=d[0],l=d[1],b=Object(k.useState)(!1),j=Object(B.a)(b,2),p=j[0],h=j[1],x=Object(k.useState)([]),f=Object(B.a)(x,2),O=f[0],v=f[1],g=Object(k.useCallback)((function(){l(!0),fetch("".concat(F,"/events")).then((function(e){return e.json()})).then((function(e){v(e),l(!1)}))}),[]);Object(k.useEffect)((function(){g()}),[g,p]);var m=function(){var e=Object(A.a)(J.a.mark((function e(n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h(!0),fetch("".concat(F,"/events/update"),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log(e),e.ok&&(o(null),h(!1))}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=function(){var e=Object(A.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),fetch("".concat(F,"/events/delete"),{method:"POST",body:JSON.stringify({selectEvent:t}),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){e.ok&&(o(null),h(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var n=Object(_.a)({},i);n[e.target.name]=e.target.value,o(n)};return u?Object(L.jsx)(ce,{children:"...loading"}):Object(L.jsxs)(ie,{children:[Object(L.jsx)(ae,{submit:p,setSubmit:h,onChange:E}),O.length>0?Object(L.jsx)(R,{selectEvent:t,events:O,onSelect:function(e){var n=Object(w.a)(O);n.map((function(n){return n.logs.map((function(n){return n.id==e?n.selected=!0:n.selected=!1}))})),v(n),r(e)},onChangeEvent:function(){var e=O.find((function(e){return e.logs.find((function(e){return e.id==t}))})),n=e.logs[0].event.name,r=e.logs[0].event_time;o(Object(_.a)(Object(_.a)({},e),{},{event_name:n,event_time:r}))},deleteEvent:C,submit:p,setSubmit:h,dateFormat:function(e){return new Date(e).toLocaleString([],{dateStyle:"short",timeStyle:"short"})}}):null,i?Object(L.jsx)(re,{changeEvent:i,setChangeEvent:o,onChange:E,updateEvent:m,selectEvent:t}):null]})};y.a.render(Object(L.jsx)(E.a.StrictMode,{children:Object(L.jsx)(oe,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.cf786f45.chunk.js.map